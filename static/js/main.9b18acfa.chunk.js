(this.webpackJsonpgamingjournal=this.webpackJsonpgamingjournal||[]).push([[0],{466:function(e,t,n){},467:function(e,t,n){},691:function(e,t){},693:function(e,t){},702:function(e,t){},704:function(e,t){},729:function(e,t){},731:function(e,t){},732:function(e,t){},737:function(e,t){},739:function(e,t){},745:function(e,t){},747:function(e,t){},766:function(e,t){},778:function(e,t){},781:function(e,t){},807:function(e,t){},904:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(109),r=n.n(a),s=(n(466),n.p,n(467),n(53)),i=n(54),o=n(9),u=n.n(o),l=n(39),j=n(446),b="https://api.rawg.io/api/",m=n.n(j).a.create({}),d=function(e,t){return g(e,"GET",t)};function g(e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(u.a.mark((function e(t){var n,c,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",c=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,m({url:"".concat(b).concat(t),method:n,data:c,params:"GET"===n?c:null});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(c)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var O={query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return d("".concat(p,"?page=").concat(e,"&key=").concat(f))},getGameById:function(e){return d("".concat(p,"/").concat(e,"?key=").concat(f))},getScreenshots:function(e){return d("".concat(p,"/").concat(e,"/screenshots?key=").concat(f))},getSearchResults:function(e){return d("".concat(p,"?search=").concat(e,"&key=").concat(f))}},p="games",f="e91b2bc088c24679bef700c99473b76d";function x(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.getScreenshots(e);case 3:c=t.sent,a=c.results.map((function(e){return{original:e.image,thumbnail:e.image}})),console.log(a),n({type:"SET_SCREENSHOTS",screenshots:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("GameActions: err in setGameScreenshots",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}var v=n(3),E=function(){Object(i.b)();return Object(v.jsxs)("div",{className:"header-container",children:[Object(v.jsx)(s.c,{to:"/",children:Object(v.jsx)("h2",{className:"title",children:"Gaming Journal"})}),Object(v.jsxs)("div",{className:"nav-links",children:[Object(v.jsx)(s.c,{to:"/",children:"Home"}),Object(v.jsx)(s.c,{to:"/games",children:"Games"}),Object(v.jsx)(s.c,{to:"/profile",children:"Profile"})]})]})},S=function(){return Object(v.jsx)("div",{className:"main-footer-container",children:Object(v.jsxs)("small",{children:["Work in progress, made solely by Gil Tarablus. Game data supplied by",Object(v.jsxs)("a",{href:"https://rawg.io/",target:"blank",children:[" ","RAWG"]})]})})},y=function(){return Object(v.jsxs)("div",{className:"main-home-container",children:[Object(v.jsx)("h1",{children:"Hello and welcome to The Gaming Journal"}),Object(v.jsx)("h3",{children:"More to come soon..."})]})},w=n(11),N=function(e){var t=Object(c.useState)(e.game),n=Object(w.a)(t,2),a=n[0];n[1];return Object(v.jsx)("div",{className:"game-preview",children:Object(v.jsxs)(s.b,{to:"/games/".concat(a.id),children:[Object(v.jsx)("img",{src:a.background_image,alt:""}),Object(v.jsx)("h3",{className:"game-preview-title",children:a.name})]})})},_=function(e){var t=Object(c.useState)(e.games),n=Object(w.a)(t,2),a=n[0];n[1];return Object(v.jsx)("section",{className:"game-list",children:a.map((function(e){return Object(v.jsx)(N,{game:e},e.id)}))})},G=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.gameModule.games}));return Object(c.useEffect)((function(){e(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.query();case 3:n=e.sent,c=n.results,t({type:"SET_GAMES",games:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("GameActions: err in loadGames",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),0===t.length?Object(v.jsx)("h1",{children:"Loading..."}):Object(v.jsx)("div",{className:"main-games-container",children:Object(v.jsx)(_,{games:t})})},T=(n(491),n(492),n(493),n(447)),k=n.n(T),I=function(e){var t=e.gameImgs;return Object(v.jsx)("div",{className:"game-screenshots-container",children:Object(v.jsx)(k.a,{items:t})})},M=function(e){var t=e.game,n=null;return e.hltbData&&(n=e.hltbData[0]),console.log(n),n?Object(v.jsxs)("div",{className:"game-bullets",children:[Object(v.jsxs)("div",{className:"game-actions",children:[Object(v.jsx)("button",{className:"add-to-favorites-button",children:"Wishlist"}),Object(v.jsx)("button",{className:"add-to-favorites-button",children:"Favorite"})]}),Object(v.jsxs)("div",{className:"game-bullet-details",children:[Object(v.jsxs)("p",{children:["Estimated Time for main story: ",n.gameplayMain," Hours"]}),Object(v.jsxs)("p",{children:["Estimated time for Story + Side: ",n.gameplayMainExtra]}),Object(v.jsxs)("p",{children:["Estimated time for Completionist"," ",n.gameplayCompletionist]}),Object(v.jsxs)("p",{children:["Developer: ",t.developers[0].name]}),Object(v.jsxs)("p",{children:["Release Date: ",t.released]}),Object(v.jsxs)("p",{children:["Average user rating: ",t.rating]}),Object(v.jsxs)("p",{children:["Metacritic rating: ",t.metacritic]}),Object(v.jsxs)("p",{children:["Game genres: ","".concat(t.genres[0].name,", ").concat(t.genres[1].name)]}),Object(v.jsxs)("p",{children:["ESRB Rating: ",t.esrb_rating.name]})]})]}):Object(v.jsx)("h1",{children:"Loading..."})},R=(n(454),new(n(610).HowLongToBeatService)),A=function(e){var t=Object(c.useState)(),n=Object(w.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(w.a)(s,2),j=o[0],b=o[1],m=Object(i.b)(),d=Object(i.c)((function(e){return e.gameModule.game})),g=Object(i.c)((function(e){return e.gameModule.screenshots}));function h(){return(h=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.search(t.name);case 2:if(n=e.sent){e.next=7;break}return e.next=6,R.search(t.slug);case 6:n=e.sent;case 7:r(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){var t=e.match.params.gameId;return m(function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.getGameById(e);case 3:c=t.sent,console.log(c),x(c.slug),n({type:"SET_GAME",game:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("GameActions: err in getGameByID",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t)),m(x(t)),function(){m(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CLEAR_GAME"})}catch(n){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[]),Object(c.useEffect)((function(){d&&(!function(e){h.apply(this,arguments)}(d),console.log(d.name))}),[d]);return d?Object(v.jsxs)("section",{className:"main-details-container",children:[Object(v.jsx)("h1",{className:"game-title",children:d.name}),Object(v.jsxs)("div",{className:"game-images-bullets-container",children:[Object(v.jsx)(I,{gameImgs:g}),Object(v.jsx)(M,{game:d,hltbData:a})]}),Object(v.jsxs)("div",{title:"Click to ".concat(j?"collapse":"expand"),className:"game-description ".concat(j?"expanded":""),onClick:function(){b(!j)},children:[d.description_raw,Object(v.jsx)("pre",{})]})]}):Object(v.jsx)("h1",{children:"Loading..."})},C=n(25);var L=function(){return Object(v.jsx)(s.a,{children:Object(v.jsxs)("section",{className:"main-app-container",children:[Object(v.jsx)("header",{children:Object(v.jsx)(E,{})}),Object(v.jsx)("main",{className:"main-page-container",children:Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.a,{component:A,path:"/games/:gameId"}),Object(v.jsx)(C.a,{component:G,path:"/games"}),Object(v.jsx)(C.a,{component:y,path:"/"})]})}),Object(v.jsx)("footer",{children:Object(v.jsx)(S,{})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,954)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},D=n(114),B=n(453),H=n(22),F={games:[],game:null,search:null,screenshots:[]};var J={loggedInUser:sessionStorage.loggedinUser?JSON.parse(sessionStorage.loggedinUser):{_id:"u100",fullname:"Guest",imgUrl:"./imgs/guest.jpg"},users:[],isLogin:!1};var P=Object(D.b)({gameModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_GAMES":return Object(H.a)(Object(H.a)({},e),{},{games:t.games});case"CLEAR_GAME":return Object(H.a)(Object(H.a)({},e),{},{game:null});case"SET_GAME":return Object(H.a)(Object(H.a)({},e),{},{game:t.game});case"SET_FILTER":return Object(H.a)(Object(H.a)({},e),{},{filterBy:t.filterData});case"SET_SEARCH":return Object(H.a)(Object(H.a)({},e),{},{search:t.results});case"SET_SCREENSHOTS":return Object(H.a)(Object(H.a)({},e),{},{screenshots:t.screenshots});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(H.a)(Object(H.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(H.a)(Object(H.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(H.a)(Object(H.a)({},e),{},{users:t.users});case"SET_SCORE":return Object(H.a)(Object(H.a)({},e),{},{loggedInUser:Object(H.a)(Object(H.a)({},e.loggedInUser),{},{score:t.score})});default:return e}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,q=Object(D.d)(P,W(Object(D.a)(B.a)));r.a.render(Object(v.jsx)(i.a,{store:q,children:Object(v.jsx)(s.a,{children:Object(v.jsx)(L,{})})}),document.getElementById("root")),U()}},[[904,1,2]]]);
//# sourceMappingURL=main.9b18acfa.chunk.js.map